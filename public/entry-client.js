var j,J,K0,M0,H,I0,O0,Q0,d0,h,a,c,V0,V={},q0=[],k0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function z(Y,g){for(var Z in g)Y[Z]=g[Z];return Y}function i(Y){Y&&Y.parentNode&&Y.parentNode.removeChild(Y)}function S0(Y,g,Z){var b,W,I,A={};for(I in g)I=="key"?b=g[I]:I=="ref"?W=g[I]:A[I]=g[I];if(arguments.length>2&&(A.children=arguments.length>3?j.call(arguments,2):Z),typeof Y=="function"&&Y.defaultProps!=null)for(I in Y.defaultProps)A[I]===void 0&&(A[I]=Y.defaultProps[I]);return m(Y,A,b,W,null)}function m(Y,g,Z,b,W){var I={type:Y,props:g,key:Z,ref:b,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:W==null?++K0:W,__i:-1,__u:0};return W==null&&J.vnode!=null&&J.vnode(I),I}function x(Y){return Y.children}function s(Y,g){this.props=Y,this.context=g}function D(Y,g){if(g==null)return Y.__?D(Y.__,Y.__i+1):null;for(var Z;g<Y.__k.length;g++)if((Z=Y.__k[g])!=null&&Z.__e!=null)return Z.__e;return typeof Y.type=="function"?D(Y):null}function J0(Y){var g,Z;if((Y=Y.__)!=null&&Y.__c!=null){for(Y.__e=Y.__c.base=null,g=0;g<Y.__k.length;g++)if((Z=Y.__k[g])!=null&&Z.__e!=null){Y.__e=Y.__c.base=Z.__e;break}return J0(Y)}}function W0(Y){(!Y.__d&&(Y.__d=!0)&&H.push(Y)&&!p.__r++||I0!=J.debounceRendering)&&((I0=J.debounceRendering)||O0)(p)}function p(){for(var Y,g,Z,b,W,I,A,K=1;H.length;)H.length>K&&H.sort(Q0),Y=H.shift(),K=H.length,Y.__d&&(Z=void 0,b=void 0,W=(b=(g=Y).__v).__e,I=[],A=[],g.__P&&((Z=z({},b)).__v=b.__v+1,J.vnode&&J.vnode(Z),r(g.__P,Z,b,g.__n,g.__P.namespaceURI,32&b.__u?[W]:null,I,W==null?D(b):W,!!(32&b.__u),A),Z.__v=b.__v,Z.__.__k[Z.__i]=Z,C0(I,Z,A),b.__e=b.__=null,Z.__e!=W&&J0(Z)));p.__r=0}function U0(Y,g,Z,b,W,I,A,K,Q,X,d){var G,q,O,T,P,F,v,U=b&&b.__k||q0,E=g.length;for(Q=_0(Z,g,U,Q,E),G=0;G<E;G++)(O=Z.__k[G])!=null&&(q=O.__i==-1?V:U[O.__i]||V,O.__i=G,F=r(Y,O,q,W,I,A,K,Q,X,d),T=O.__e,O.ref&&q.ref!=O.ref&&(q.ref&&t(q.ref,null,O),d.push(O.ref,O.__c||T,O)),P==null&&T!=null&&(P=T),(v=!!(4&O.__u))||q.__k===O.__k?Q=v0(O,Q,Y,v):typeof O.type=="function"&&F!==void 0?Q=F:T&&(Q=T.nextSibling),O.__u&=-7);return Z.__e=P,Q}function _0(Y,g,Z,b,W){var I,A,K,Q,X,d=Z.length,G=d,q=0;for(Y.__k=Array(W),I=0;I<W;I++)(A=g[I])!=null&&typeof A!="boolean"&&typeof A!="function"?(typeof A=="string"||typeof A=="number"||typeof A=="bigint"||A.constructor==String?A=Y.__k[I]=m(null,A,null,null,null):w(A)?A=Y.__k[I]=m(x,{children:A},null,null,null):A.constructor===void 0&&A.__b>0?A=Y.__k[I]=m(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):Y.__k[I]=A,Q=I+q,A.__=Y,A.__b=Y.__b+1,K=null,(X=A.__i=m0(A,Z,Q,G))!=-1&&(G--,(K=Z[X])&&(K.__u|=2)),K==null||K.__v==null?(X==-1&&(W>d?q--:W<d&&q++),typeof A.type!="function"&&(A.__u|=4)):X!=Q&&(X==Q-1?q--:X==Q+1?q++:(X>Q?q--:q++,A.__u|=4))):Y.__k[I]=null;if(G)for(I=0;I<d;I++)(K=Z[I])!=null&&(2&K.__u)==0&&(K.__e==b&&(b=D(K)),T0(K,K));return b}function v0(Y,g,Z,b){var W,I;if(typeof Y.type=="function"){for(W=Y.__k,I=0;W&&I<W.length;I++)W[I]&&(W[I].__=Y,g=v0(W[I],g,Z,b));return g}Y.__e!=g&&(b&&(g&&Y.type&&!g.parentNode&&(g=D(Y)),Z.insertBefore(Y.__e,g||null)),g=Y.__e);do g=g&&g.nextSibling;while(g!=null&&g.nodeType==8);return g}function m0(Y,g,Z,b){var W,I,A,K=Y.key,Q=Y.type,X=g[Z],d=X!=null&&(2&X.__u)==0;if(X===null&&K==null||d&&K==X.key&&Q==X.type)return Z;if(b>(d?1:0)){for(W=Z-1,I=Z+1;W>=0||I<g.length;)if((X=g[A=W>=0?W--:I++])!=null&&(2&X.__u)==0&&K==X.key&&Q==X.type)return A}return-1}function X0(Y,g,Z){g[0]=="-"?Y.setProperty(g,Z==null?"":Z):Y[g]=Z==null?"":typeof Z!="number"||k0.test(g)?Z:Z+"px"}function _(Y,g,Z,b,W){var I,A;g:if(g=="style")if(typeof Z=="string")Y.style.cssText=Z;else{if(typeof b=="string"&&(Y.style.cssText=b=""),b)for(g in b)Z&&g in Z||X0(Y.style,g,"");if(Z)for(g in Z)b&&Z[g]==b[g]||X0(Y.style,g,Z[g])}else if(g[0]=="o"&&g[1]=="n")I=g!=(g=g.replace(d0,"$1")),A=g.toLowerCase(),g=A in Y||g=="onFocusOut"||g=="onFocusIn"?A.slice(2):g.slice(2),Y.l||(Y.l={}),Y.l[g+I]=Z,Z?b?Z.u=b.u:(Z.u=h,Y.addEventListener(g,I?c:a,I)):Y.removeEventListener(g,I?c:a,I);else{if(W=="http://www.w3.org/2000/svg")g=g.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(g!="width"&&g!="height"&&g!="href"&&g!="list"&&g!="form"&&g!="tabIndex"&&g!="download"&&g!="rowSpan"&&g!="colSpan"&&g!="role"&&g!="popover"&&g in Y)try{Y[g]=Z==null?"":Z;break g}catch(K){}typeof Z=="function"||(Z==null||Z===!1&&g[4]!="-"?Y.removeAttribute(g):Y.setAttribute(g,g=="popover"&&Z==1?"":Z))}}function A0(Y){return function(g){if(this.l){var Z=this.l[g.type+Y];if(g.t==null)g.t=h++;else if(g.t<Z.u)return;return Z(J.event?J.event(g):g)}}}function r(Y,g,Z,b,W,I,A,K,Q,X){var d,G,q,O,T,P,F,v,U,E,L,k,y,G0,S,M,o,B=g.type;if(g.constructor!==void 0)return null;128&Z.__u&&(Q=!!(32&Z.__u),I=[K=g.__e=Z.__e]),(d=J.__b)&&d(g);g:if(typeof B=="function")try{if(v=g.props,U="prototype"in B&&B.prototype.render,E=(d=B.contextType)&&b[d.__c],L=d?E?E.props.value:d.__:b,Z.__c?F=(G=g.__c=Z.__c).__=G.__E:(U?g.__c=G=new B(v,L):(g.__c=G=new s(v,L),G.constructor=B,G.render=p0),E&&E.sub(G),G.state||(G.state={}),G.__n=b,q=G.__d=!0,G.__h=[],G._sb=[]),U&&G.__s==null&&(G.__s=G.state),U&&B.getDerivedStateFromProps!=null&&(G.__s==G.state&&(G.__s=z({},G.__s)),z(G.__s,B.getDerivedStateFromProps(v,G.__s))),O=G.props,T=G.state,G.__v=g,q)U&&B.getDerivedStateFromProps==null&&G.componentWillMount!=null&&G.componentWillMount(),U&&G.componentDidMount!=null&&G.__h.push(G.componentDidMount);else{if(U&&B.getDerivedStateFromProps==null&&v!==O&&G.componentWillReceiveProps!=null&&G.componentWillReceiveProps(v,L),g.__v==Z.__v||!G.__e&&G.shouldComponentUpdate!=null&&G.shouldComponentUpdate(v,G.__s,L)===!1){for(g.__v!=Z.__v&&(G.props=v,G.state=G.__s,G.__d=!1),g.__e=Z.__e,g.__k=Z.__k,g.__k.some(function($){$&&($.__=g)}),k=0;k<G._sb.length;k++)G.__h.push(G._sb[k]);G._sb=[],G.__h.length&&A.push(G);break g}G.componentWillUpdate!=null&&G.componentWillUpdate(v,G.__s,L),U&&G.componentDidUpdate!=null&&G.__h.push(function(){G.componentDidUpdate(O,T,P)})}if(G.context=L,G.props=v,G.__P=Y,G.__e=!1,y=J.__r,G0=0,U){for(G.state=G.__s,G.__d=!1,y&&y(g),d=G.render(G.props,G.state,G.context),S=0;S<G._sb.length;S++)G.__h.push(G._sb[S]);G._sb=[]}else do G.__d=!1,y&&y(g),d=G.render(G.props,G.state,G.context),G.state=G.__s;while(G.__d&&++G0<25);G.state=G.__s,G.getChildContext!=null&&(b=z(z({},b),G.getChildContext())),U&&!q&&G.getSnapshotBeforeUpdate!=null&&(P=G.getSnapshotBeforeUpdate(O,T)),M=d,d!=null&&d.type===x&&d.key==null&&(M=N0(d.props.children)),K=U0(Y,w(M)?M:[M],g,Z,b,W,I,A,K,Q,X),G.base=g.__e,g.__u&=-161,G.__h.length&&A.push(G),F&&(G.__E=G.__=null)}catch($){if(g.__v=null,Q||I!=null)if($.then){for(g.__u|=Q?160:128;K&&K.nodeType==8&&K.nextSibling;)K=K.nextSibling;I[I.indexOf(K)]=null,g.__e=K}else{for(o=I.length;o--;)i(I[o]);e(g)}else g.__e=Z.__e,g.__k=Z.__k,$.then||e(g);J.__e($,g,Z)}else I==null&&g.__v==Z.__v?(g.__k=Z.__k,g.__e=Z.__e):K=g.__e=s0(Z.__e,g,Z,b,W,I,A,Q,X);return(d=J.diffed)&&d(g),128&g.__u?void 0:K}function e(Y){Y&&Y.__c&&(Y.__c.__e=!0),Y&&Y.__k&&Y.__k.forEach(e)}function C0(Y,g,Z){for(var b=0;b<Z.length;b++)t(Z[b],Z[++b],Z[++b]);J.__c&&J.__c(g,Y),Y.some(function(W){try{Y=W.__h,W.__h=[],Y.some(function(I){I.call(W)})}catch(I){J.__e(I,W.__v)}})}function N0(Y){return typeof Y!="object"||Y==null||Y.__b&&Y.__b>0?Y:w(Y)?Y.map(N0):z({},Y)}function s0(Y,g,Z,b,W,I,A,K,Q){var X,d,G,q,O,T,P,F=Z.props||V,v=g.props,U=g.type;if(U=="svg"?W="http://www.w3.org/2000/svg":U=="math"?W="http://www.w3.org/1998/Math/MathML":W||(W="http://www.w3.org/1999/xhtml"),I!=null){for(X=0;X<I.length;X++)if((O=I[X])&&"setAttribute"in O==!!U&&(U?O.localName==U:O.nodeType==3)){Y=O,I[X]=null;break}}if(Y==null){if(U==null)return document.createTextNode(v);Y=document.createElementNS(W,U,v.is&&v),K&&(J.__m&&J.__m(g,I),K=!1),I=null}if(U==null)F===v||K&&Y.data==v||(Y.data=v);else{if(I=I&&j.call(Y.childNodes),!K&&I!=null)for(F={},X=0;X<Y.attributes.length;X++)F[(O=Y.attributes[X]).name]=O.value;for(X in F)if(O=F[X],X=="children");else if(X=="dangerouslySetInnerHTML")G=O;else if(!(X in v)){if(X=="value"&&"defaultValue"in v||X=="checked"&&"defaultChecked"in v)continue;_(Y,X,null,O,W)}for(X in v)O=v[X],X=="children"?q=O:X=="dangerouslySetInnerHTML"?d=O:X=="value"?T=O:X=="checked"?P=O:K&&typeof O!="function"||F[X]===O||_(Y,X,O,F[X],W);if(d)K||G&&(d.__html==G.__html||d.__html==Y.innerHTML)||(Y.innerHTML=d.__html),g.__k=[];else if(G&&(Y.innerHTML=""),U0(g.type=="template"?Y.content:Y,w(q)?q:[q],g,Z,b,U=="foreignObject"?"http://www.w3.org/1999/xhtml":W,I,A,I?I[0]:Z.__k&&D(Z,0),K,Q),I!=null)for(X=I.length;X--;)i(I[X]);K||(X="value",U=="progress"&&T==null?Y.removeAttribute("value"):T!=null&&(T!==Y[X]||U=="progress"&&!T||U=="option"&&T!=F[X])&&_(Y,X,T,F[X],W),X="checked",P!=null&&P!=Y[X]&&_(Y,X,P,F[X],W))}return Y}function t(Y,g,Z){try{if(typeof Y=="function"){var b=typeof Y.__u=="function";b&&Y.__u(),b&&g==null||(Y.__u=Y(g))}else Y.current=g}catch(W){J.__e(W,Z)}}function T0(Y,g,Z){var b,W;if(J.unmount&&J.unmount(Y),(b=Y.ref)&&(b.current&&b.current!=Y.__e||t(b,null,g)),(b=Y.__c)!=null){if(b.componentWillUnmount)try{b.componentWillUnmount()}catch(I){J.__e(I,g)}b.base=b.__P=null}if(b=Y.__k)for(W=0;W<b.length;W++)b[W]&&T0(b[W],g,Z||typeof Y.type!="function");Z||i(Y.__e),Y.__c=Y.__=Y.__e=void 0}function p0(Y,g,Z){return this.constructor(Y,Z)}function j0(Y,g,Z){var b,W,I,A;g==document&&(g=document.documentElement),J.__&&J.__(Y,g),W=(b=typeof Z=="function")?null:Z&&Z.__k||g.__k,I=[],A=[],r(g,Y=(!b&&Z||g).__k=S0(x,null,[Y]),W||V,V,g.namespaceURI,!b&&Z?[Z]:W?null:g.firstChild?j.call(g.childNodes):null,I,!b&&Z?Z:W?W.__e:g.firstChild,b,A),C0(I,Y,A)}function l(Y,g){j0(Y,g,l)}j=q0.slice,J={__e:function(Y,g,Z,b){for(var W,I,A;g=g.__;)if((W=g.__c)&&!W.__)try{if((I=W.constructor)&&I.getDerivedStateFromError!=null&&(W.setState(I.getDerivedStateFromError(Y)),A=W.__d),W.componentDidCatch!=null&&(W.componentDidCatch(Y,b||{}),A=W.__d),A)return W.__E=W}catch(K){Y=K}throw Y}},K0=0,M0=function(Y){return Y!=null&&Y.constructor===void 0},s.prototype.setState=function(Y,g){var Z;Z=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=z({},this.state),typeof Y=="function"&&(Y=Y(z({},Z),this.props)),Y&&z(Z,Y),Y!=null&&this.__v&&(g&&this._sb.push(g),W0(this))},s.prototype.forceUpdate=function(Y){this.__v&&(this.__e=!0,Y&&this.__h.push(Y),W0(this))},s.prototype.render=x,H=[],O0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Q0=function(Y,g){return Y.__v.__b-g.__v.__b},p.__r=0,d0=/(PointerCapture)$|Capture$/i,h=0,a=A0(!1),c=A0(!0),V0=0;var n,C,u,F0,g0=0,$0=[],N=J,R0=N.__b,P0=N.__r,B0=N.diffed,z0=N.__c,E0=N.unmount,L0=N.__;function w0(Y,g){N.__h&&N.__h(C,Y,g0||g),g0=0;var Z=C.__H||(C.__H={__:[],__h:[]});return Y>=Z.__.length&&Z.__.push({}),Z.__[Y]}function D0(Y){return g0=1,f0(x0,Y)}function f0(Y,g,Z){var b=w0(n++,2);if(b.t=Y,!b.__c&&(b.__=[Z?Z(g):x0(void 0,g),function(K){var Q=b.__N?b.__N[0]:b.__[0],X=b.t(Q,K);Q!==X&&(b.__N=[X,b.__[1]],b.__c.setState({}))}],b.__c=C,!C.__f)){var W=function(K,Q,X){if(!b.__c.__H)return!0;var d=b.__c.__H.__.filter(function(q){return!!q.__c});if(d.every(function(q){return!q.__N}))return!I||I.call(this,K,Q,X);var G=b.__c.props!==K;return d.forEach(function(q){if(q.__N){var O=q.__[0];q.__=q.__N,q.__N=void 0,O!==q.__[0]&&(G=!0)}}),I&&I.call(this,K,Q,X)||G};C.__f=!0;var{shouldComponentUpdate:I,componentWillUpdate:A}=C;C.componentWillUpdate=function(K,Q,X){if(this.__e){var d=I;I=void 0,W(K,Q,X),I=d}A&&A.call(this,K,Q,X)},C.shouldComponentUpdate=W}return b.__N||b.__}function o0(){for(var Y;Y=$0.shift();)if(Y.__P&&Y.__H)try{Y.__H.__h.forEach(f),Y.__H.__h.forEach(Y0),Y.__H.__h=[]}catch(g){Y.__H.__h=[],N.__e(g,Y.__v)}}N.__b=function(Y){C=null,R0&&R0(Y)},N.__=function(Y,g){Y&&g.__k&&g.__k.__m&&(Y.__m=g.__k.__m),L0&&L0(Y,g)},N.__r=function(Y){P0&&P0(Y),n=0;var g=(C=Y.__c).__H;g&&(u===C?(g.__h=[],C.__h=[],g.__.forEach(function(Z){Z.__N&&(Z.__=Z.__N),Z.u=Z.__N=void 0})):(g.__h.forEach(f),g.__h.forEach(Y0),g.__h=[],n=0)),u=C},N.diffed=function(Y){B0&&B0(Y);var g=Y.__c;g&&g.__H&&(g.__H.__h.length&&($0.push(g)!==1&&F0===N.requestAnimationFrame||((F0=N.requestAnimationFrame)||a0)(o0)),g.__H.__.forEach(function(Z){Z.u&&(Z.__H=Z.u),Z.u=void 0})),u=C=null},N.__c=function(Y,g){g.some(function(Z){try{Z.__h.forEach(f),Z.__h=Z.__h.filter(function(b){return!b.__||Y0(b)})}catch(b){g.some(function(W){W.__h&&(W.__h=[])}),g=[],N.__e(b,Z.__v)}}),z0&&z0(Y,g)},N.unmount=function(Y){E0&&E0(Y);var g,Z=Y.__c;Z&&Z.__H&&(Z.__H.__.forEach(function(b){try{f(b)}catch(W){g=W}}),Z.__H=void 0,g&&N.__e(g,Z.__v))};var H0=typeof requestAnimationFrame=="function";function a0(Y){var g,Z=function(){clearTimeout(b),H0&&cancelAnimationFrame(g),setTimeout(Y)},b=setTimeout(Z,35);H0&&(g=requestAnimationFrame(Z))}function f(Y){var g=C,Z=Y.__c;typeof Z=="function"&&(Y.__c=void 0,Z()),C=g}function Y0(Y){var g=C;Y.__c=Y.__(),C=g}function x0(Y,g){return typeof g=="function"?g(Y):g}var c0=0;function R(Y,g,Z,b,W,I){g||(g={});var A,K,Q=g;if("ref"in Q)for(K in Q={},g)K=="ref"?A=g[K]:Q[K]=g[K];var X={type:Y,props:Q,key:Z,ref:A,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--c0,__i:-1,__u:0,__source:W,__self:I};if(typeof Y=="function"&&(A=Y.defaultProps))for(K in A)Q[K]===void 0&&(Q[K]=A[K]);return J.vnode&&J.vnode(X),X}function Z0({initial:Y=0}){let[g,Z]=D0(Y);return R("div",{class:"border border-gray-300 rounded-lg p-6 bg-white shadow-sm",children:R("div",{class:"text-center",children:[R("h3",{class:"text-lg font-semibold text-gray-800 mb-4",children:"计数器组件"},void 0,!1,void 0,this),R("div",{class:"text-4xl font-bold text-blue-600 mb-6",children:g},void 0,!1,void 0,this),R("div",{class:"flex gap-3 justify-center",children:[R("button",{onClick:()=>Z(g-1),class:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg transition-colors",children:"-1"},void 0,!1,void 0,this),R("button",{onClick:()=>Z(Y),class:"px-4 py-2 bg-blue-100 hover:bg-blue-200 text-blue-800 rounded-lg transition-colors",children:"重置"},void 0,!1,void 0,this),R("button",{onClick:()=>Z(g+1),class:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg transition-colors",children:"+1"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),R("p",{class:"text-sm text-gray-500 mt-4",children:"这是一个交互式岛组件，在客户端hydrate"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var b0={counter:Z0};function y0(){document.querySelectorAll("[data-island]").forEach((Y)=>{let g=Y.getAttribute("data-island");if(!g||!(g in b0)){console.warn(`未找到 island 组件：${g}`);return}try{let Z=Y.getAttribute("data-props")||"{}",b=JSON.parse(Z),W=b0[g];l(R(W,{...b},void 0,!1,void 0,this),Y)}catch(Z){console.error(`Island ${g} hydration 失败:`,Z)}})}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",y0);else y0();
